<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    />
</head>
<style>
    #map {
        width: 100%;
        height: 100vh;
    }
</style>
<body>
<div id="map">
</div>

<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"></script>
<script>
    const map = L.map('map').setView([0, 0], 1);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
    let markers = {}
    function setMapView(lat, long, zoomLevel) {
        map.setView([lat, long], zoomLevel)
    }

    function addMarker(lat, long, id, rideName, waitTime) {
        if (markers[id]) {
            removeMarker(id)
        }
        markers[id] = L.marker([lat, long]).addTo(map)
            .bindPopup(`<b>${rideName}</b><br>Wait Time: ${waitTime}`)
            .openPopup()
    }

    function removeMarker(id) {
       if (markers[id]) {
           map.removeLayer(markers[id])
           delete markers[id]
       }
    }

    // Tests For the MAp
    const testMarkers = [
        { lat: 40.7128, long: -74.0060, id: "nyc", rideName: "New York Ride", waitTime: "10 minutes" },
        { lat: 34.0522, long: -118.2437, id: "la", rideName: "LA Ride", waitTime: "5 minutes" },
        { lat: 51.5074, long: -0.1278, id: "london", rideName: "London Eye", waitTime: "15 minutes" }
    ];

    setMapView(40.7128, -74.0060, 12);

    testMarkers.forEach(marker => {
        addMarker(marker.lat, marker.long, marker.id, marker.rideName, marker.waitTime);
    });

</script>
</body>
</html>